INFO:     Will watch for changes in these directories: ['/Users/jmoncayopursuit.org/Desktop/kiro-dev-2025/Knowledge-Weaver/backend_api']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [60410] using WatchFiles
INFO:     Started server process [60511]
INFO:     Waiting for application startup.
INFO:main:Knowledge-Weaver API starting up...
INFO:services.vector_db:VectorDatabase initialized with persist_directory: ./chroma_db
INFO:services.vector_db:Collection 'knowledge_base' initialized with 17 entries
INFO:main:Vector Database initialized: {'status': 'initialized', 'count': 17, 'name': 'knowledge_base'}
INFO:services.gemini_client:GeminiClient initialized successfully
INFO:main:Gemini Client initialized
INFO:services.anonymizer:AnonymizerService initialized
INFO:services.chat_processor:ChatLogProcessor initialized with HIPAA-compliant anonymization
INFO:main:Chat Processor initialized
INFO:services.query_service:QueryService initialized, query log file: /Users/jmoncayopursuit.org/Desktop/kiro-dev-2025/Knowledge-Weaver/backend_api/query_log.jsonl
INFO:main:Query Service initialized
INFO:main:All services initialized successfully
INFO:     Application startup complete.
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52227 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52228 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52229 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A41%3A10.647271&end_date=2025-11-21T21%3A41%3A10.647271 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 17, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52231 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52307 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52308 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52310 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A50%3A41.182775&end_date=2025-11-21T21%3A50%3A41.182775 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 17, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52311 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52320 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52321 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52322 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A50%3A47.348351&end_date=2025-11-21T21%3A50%3A47.348351 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 17, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52323 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52326 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52327 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52328 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A50%3A51.136765&end_date=2025-11-21T21%3A50%3A51.136765 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 17, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52329 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52364 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52365 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52366 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A53%3A41.203843&end_date=2025-11-21T21%3A53%3A41.203843 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 17, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52367 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52368 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52369 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52370 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A53%3A45.546413&end_date=2025-11-21T21%3A53%3A45.546413 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 17, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52371 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52374 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Received manual ingestion request for URL: dashboard-manual-entry
INFO:services.vector_db:Added 1 knowledge entries to vector database
INFO:     127.0.0.1:52375 - "POST /api/v1/ingest HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52378 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52379 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52380 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A53%3A53.303967&end_date=2025-11-21T21%3A53%3A53.303967 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 18, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52381 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52383 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Received manual ingestion request for URL: dashboard-manual-entry
INFO:services.vector_db:Added 1 knowledge entries to vector database
INFO:     127.0.0.1:52384 - "POST /api/v1/ingest HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52385 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52386 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52387 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A54%3A01.843378&end_date=2025-11-21T21%3A54%3A01.843378 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 19, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52388 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52394 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52395 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52396 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A54%3A55.496043&end_date=2025-11-21T21%3A54%3A55.496043 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 19, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52397 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52405 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52406 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52407 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A56%3A26.423630&end_date=2025-11-21T21%3A56%3A26.423630 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 19, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52408 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52417 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52419 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
WARNING:main:404 Not Found: http://127.0.0.1:8000/knowledge/47e5936d-80fa-4b5b-9311-fc9c3b43df21
INFO:     127.0.0.1:52420 - "DELETE /knowledge/47e5936d-80fa-4b5b-9311-fc9c3b43df21 HTTP/1.1" 404 Not Found
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52421 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A58%3A11.694236&end_date=2025-11-21T21%3A58%3A11.694236 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 19, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52422 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52423 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52424 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
WARNING:main:404 Not Found: http://127.0.0.1:8000/knowledge/47e5936d-80fa-4b5b-9311-fc9c3b43df21
INFO:     127.0.0.1:52425 - "DELETE /knowledge/47e5936d-80fa-4b5b-9311-fc9c3b43df21 HTTP/1.1" 404 Not Found
WARNING:main:404 Not Found: http://127.0.0.1:8000/knowledge/92ca64d1-69f1-4f27-b889-9649e8e34935
INFO:     127.0.0.1:52426 - "DELETE /knowledge/92ca64d1-69f1-4f27-b889-9649e8e34935 HTTP/1.1" 404 Not Found
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52427 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A58%3A12.439845&end_date=2025-11-21T21%3A58%3A12.439845 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 19, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52428 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52439 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52440 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
WARNING:main:404 Not Found: http://127.0.0.1:8000/knowledge/92ca64d1-69f1-4f27-b889-9649e8e34935
INFO:     127.0.0.1:52441 - "DELETE /knowledge/92ca64d1-69f1-4f27-b889-9649e8e34935 HTTP/1.1" 404 Not Found
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52442 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A58%3A48.849835&end_date=2025-11-21T21%3A58%3A48.849835 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 19, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52443 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52444 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52445 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52446 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A58%3A49.146474&end_date=2025-11-21T21%3A58%3A49.146474 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 19, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52447 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52448 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52449 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
WARNING:main:404 Not Found: http://127.0.0.1:8000/knowledge/47e5936d-80fa-4b5b-9311-fc9c3b43df21
INFO:     127.0.0.1:52450 - "DELETE /knowledge/47e5936d-80fa-4b5b-9311-fc9c3b43df21 HTTP/1.1" 404 Not Found
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52451 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A58%3A50.535162&end_date=2025-11-21T21%3A58%3A50.535162 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 19, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52452 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:routes.api:Fetching dashboard metrics
INFO:     127.0.0.1:52454 - "GET /api/v1/metrics/dashboard HTTP/1.1" 200 OK
INFO:routes.api:Fetching recent knowledge (limit: 10)
INFO:     127.0.0.1:52455 - "GET /api/v1/knowledge/recent?limit=10 HTTP/1.1" 200 OK
WARNING:main:404 Not Found: http://127.0.0.1:8000/knowledge/47e5936d-80fa-4b5b-9311-fc9c3b43df21
INFO:     127.0.0.1:52456 - "DELETE /knowledge/47e5936d-80fa-4b5b-9311-fc9c3b43df21 HTTP/1.1" 404 Not Found
WARNING:main:404 Not Found: http://127.0.0.1:8000/knowledge/92ca64d1-69f1-4f27-b889-9649e8e34935
INFO:     127.0.0.1:52457 - "DELETE /knowledge/92ca64d1-69f1-4f27-b889-9649e8e34935 HTTP/1.1" 404 Not Found
INFO:routes.api:Fetching query metrics (limit: 1000)
INFO:     127.0.0.1:52458 - "GET /api/v1/metrics/queries?limit=1000&start_date=2025-11-14T21%3A58%3A58.809362&end_date=2025-11-21T21%3A58%3A58.809362 HTTP/1.1" 200 OK
INFO:routes.api:Health check: {'status': 'initialized', 'count': 19, 'name': 'knowledge_base'}
INFO:     127.0.0.1:52459 - "GET /api/v1/health HTTP/1.1" 200 OK
